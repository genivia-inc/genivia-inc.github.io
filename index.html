<!doctype html>
<html>

<head>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <meta charset="utf-8"/>
  <meta name="description" content="The ugrep file pattern searcher -- a more powerful, ultra fast, user-friendly, compatible grep replacement"/>
  <meta name="keywords" content="ugrep manual, regex, agrep, ack, grep, ripgrep, silver searcher, grep compatible, grep alternative, grep replacement, Unicode pattern matching, file search, file indexing, Google search files, fuzzy search, zip search, tar search, tarball search, gzip search"/>
  <meta name="author" content="Robert A. van Engelen, Genivia Inc">
  <title>The ugrep file pattern searcher</title>
    <style>
        body {
            font-family: "Times New Roman", Times, serif;
            background: white;
            color: black;
            margin-top: 30px;
        }
        div {
            vertical-align: text-top;
        }
        h1 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 3em;
            background: #2f8d46;
            color: white;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        h2 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 2.4rem;
            color: #2f8d46;
            text-align: center;
            margin-top: 5px;
        }
        h3 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 1.5rem;
            color: #2f8d46;
            margin-top: 5px;
        }
        p {
            font-size: 1.16rem;
            font-style: italic;
        }
        em {
            font-family: Arial, Helvetica, sans-serif;
            font-style: normal;
        }
        tt {
            font-family: "Courier New", monospace;
            font-style: normal;
        }
        code {
            font-family: "Courier New", monospace;
            font-style: normal;
            font-weight: bold;
        }
        dl dt {
            font-family: "Courier New", monospace;
            font-style: normal;
            font-weight: bold;
            margin: 3px;
        }
        dl dd {
        }
        ol {
            padding-top: 10px;
            padding-bottom: 10px;
            padding-left: 20px;
            padding-right: 0;
            list-style-type: square;
        }
        ul {
            list-style-type: none;
        }
        ol li {
            padding-top: 5px;
            padding-bottom: 5px;
            margin-left: 20px;
        }
        ul li {
            margin: 5px;
            margin-left: 20px;
        }
        table {
            border: 2px solid #2f8d46;
            border-radius: 7px;
            padding: 5px;
        }
        table td {
            vertical-align: bottom;
        }
        a {
            color: #2f8d46;
            font-weight: bold;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        div {
            display: inline-block;
        }
        pre {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        .img-with-text img {
            display: block;
            margin: 0 auto;
            padding: 0;
            width: 100%;
        }
        .img-with-text {
            text-align: center;
            font-style: italic;
            width: 50%;
            margin: 20px;
        }
        .wide table {
            margin-right: 20px;
            margin-bottom: 10px;
        }
        .menu {
            display: block;
            position: absolute;
            z-index: 1;
        }
        .menu ul {
            position: fixed;
            top: 0;
            left: 0;
            margin: 0;
            padding: 0;
            width: 100%;
            background: black;
        }
        .menu li {
            display: inline-block;
            line-height: 24px;
            text-align: center;
            float: left;
            margin-top: 0;
            margin-bottom: 0;
            padding: 0;
            position: relative;
        }
        .menu a {
            display: inline-block;
            padding-left: 5px;
            padding-right: 5px;
            height: 24px;
            font-family: Arial, Helvetica, sans-serif;
            font-weight: normal;
            color: white;
            text-decoration: none
        }
        .menu a:hover {
            background-color: gray;
        }
        .menu li ul {
            display: none;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
            position: absolute;
            top: 24px;
            left: -20px;
            width: 250px;
            background-color: gray;
            z-index: 2;
        }
        .menu li:hover ul {
            display: block !important;
        }
        /* .menu li:active ul {
            display: none; /* should hide the menu after click? But doesn't */
        } */
        .menu li ul li {
            clear: left;
            display: inline-block;
        }
        .menu li ul a {
            text-align: left;
            width: 210px;
        }
        .menu li ul a:hover {
            background-color: black;
        }
    </style>
</head>

<body>

<div class="menu">
  <ul>
    <li><a href="#commands">Commands</a></li>
    <li><a href="#options">Options</a>
      <ul>
        <li><a href="#list">List matching files</a></li>
        <li><a href="#match">Displaying matches</a></li>
        <li><a href="#modes">Pattern matching modes</a></li>
        <li><a href="#TUI">The interactive TUI</a></li>
        <li><a href="#Google">Googling files</a></li>
        <li><a href="#fuzzy">Fuzzy search</a></li>
        <li><a href="#zip">Archives &amp; compressed files</a></li>
        <li><a href="#binary">Binary files &amp; devices</a></li>
        <li><a href="#constraints">Exclusions &amp; inclusions</a></li>
        <li><a href="#formatting">Formatted output</a></li>
        <li><a href="#pretty">Pretty things, more or less</a></li>
        <li><a href="#help">Help</a></li>
      </ul>
    </li>
    <li><a href="#regex">Regex</a></li>
    <li><a href="#globs">Globs</a></li>
    <li><a href="#types">Types</a></li>
    <li><a href="#filter">Filters</a></li>
    <li><a href="#colors">Colors</a></li>
    <li><a href="#format">Formatting</a></li>
    <li><a href="#index">Indexing</a></li>
    <li><a target="FAQ" href="https://github.com/Genivia/ugrep/discussions/categories/q-a">Q&amp;A</a></li>
  </ul>
</div>

<h1>The ugrep file pattern searcher</h1>

<p align=center>a more powerful, ultra fast, user-friendly, compatible grep (that is also completely free!)
<p align=center><a class="github-button" href="https://github.com/Genivia/ugrep/releases" data-icon="octicon-cloud-download" aria-label="ugrep on GitHub">ugrep release 7.0</a> <a class="github-button" href="https://github.com/Genivia/ugrep" data-count-href="/Genivia/ugrep/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star Genivia/ugrep on GitHub">Star</a>

<div>
<div>
<p align=center>ugrep installs on
<ul>
<li>MacOS: <code><a target="_blank" href="https://formulae.brew.sh/formula/ugrep">brew</a> install ugrep</code>
<li>MacOS: <code><a target="_blank" href="https://ports.macports.org/port/ugrep/">port</a> install ugrep</code>
<li>Windows: <code><a target="_blank" href="https://learn.microsoft.com/en-us/windows/package-manager/">winget</a> install Genivia.ugrep</code>
<li>Windows: <code><a target="_blank" href="https://community.chocolatey.org/packages/ugrep">choco</a> install ugrep</code>
<li>Windows: <code><a target="_blank" href="https://scoop.sh">scoop</a> install ugrep</code>
<li>Alpine: <code>apk add ugrep ugrep-doc</code>
<li>Android Termux: <code>pkg install ugrep</code>
<li>Arch: <code>pacman -S ugrep</code>
<li>CentOS: <code>dnf install ugrep</code>
<li>Debian: <code>apt-get install ugrep</code>
<li>Fedora: <code>dnf install ugrep</code>
<li>FreeBSD: <code>pkg install ugrep</code>
<li>NetBSD: <a target="_blank" href="http://cdn.netbsd.org/pub/pkgsrc/current/pkgsrc/textproc/ugrep/README.html">download textproc/ugrep</a>
<li>OpenBSD: <code>pkg_add ugrep</code>
<li>OpenSUSE: <code>zypper install ugrep</code>
<li>RHEL: <code>dnf install ugrep</code>
<li>Other Linux: <a target="_blank" href="https://nightly.link/Genivia/ugrep/workflows/autobuild-static/master?preview">download static builds</a>
<li>Other:
<pre>
git clone <a target="_blank" href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a>
cd ugrep
./build.sh # build ug and ugrep in ugrep/bin
sudo make install # install as desired
</pre>
</ul>
<p align=center>how fast is ugrep?
<ul>
<li><a target="_blank" href="https://github.com/Genivia/ugrep-benchmarks">Benchmarks</a>: ugrep is fast(er)
<li><a href="#index">file indexer</a> speeds up cold FS search
</ul>
</div>
<div class="img-with-text">
<img src="ug.png" alt="ugrep screenshot with TUI"/>
<p>Search with a <a href="#TUI">TUI</a> (shown) or from the command line with grep-compatible options.  You can also <a href="#Google">Google search</a> (shown) and <a href="#fuzzy">fuzzy search</a> your files.  Search (nested) zip/7z/tar/pax/cpio <a href="#zip">archives, tarballs and compressed files</a> gz/Z/bz/bz2/lzma/xz/lz4/zstd/brotli, search and <a href="#binary">hexdump</a> binary files, search documents such as PDF, doc, docx, and output in JSON, XML, CSV or your own <a href="#format">customized format</a>.  Supports <a href="#regex">Unicode extended regex pattern syntax</a> and multi-line pattern matching without requiring special command-line options.
</div>
</div>

<a name="commands">&nbsp;</a>
<h2>Commands</h2>

<p>Search for patterns in files with the <code>ug</code> and <code>ugrep</code> commands, where

<dl>
<dt>ug</dt>                     <dd>for user-friendly use, with an optional .ugrep configuration file with your preferences located in the working directory or in your home directory;<br>the <code>ug+</code> command also searches pdfs, documents, e-books, image metadata</dd>
<dt>ug --save-config <i>OPTIONS</i></dt>
                                <dd>saves a new .ugrep file in the working directory using the current .ugrep configuration and by copying the relevant <tt><i>OPTIONS</i></tt> (if any) to the new .ugrep file</dd>
<dt>ugrep</dt>                  <dd>does not use a .ugrep configuration file and does not set default options: <code>ugrep</code> works best in shell scripts;<br>the <code>ugrep+</code> command also searches pdfs, documents, e-books, image metadata</dd>
</dl>

<p>Examples:

<dl>
<dt>ug -Q</dt>
                                <dd>start the interactive query <a href="#TUI">TUI</a> then enter patterns to recursively search for matching files, press <em>F1</em> or <em>CTRL-Z</em> for help and options, press <em>ALT-L</em> to <a href="#list">list matching files</a> (option <tt>-l</tt>)</dd>
<dt>ug -%% -jwQ</dt>
                                <dd>recursively <a href="#Google">Google search files</a> (option <tt>-%%</tt>) with <a href="#modes">smart ignore case</a> (option <tt>-j</tt>) regex patterns matching <a href="#modes">words</a> (option <tt>-w</tt>) in the interactive query <a href="#TUI">TUI</a> (option <tt>-Q</tt>)</dd>
<dt>ug <i>PATTERN</i></dt>
                                <dd>recursively search for files matching <tt><i>PATTERN</i></tt>; a recursive search is performed when no search targets are specified</dd>
<dt>ug <i>PATTERN</i> <i>FILE</i></dt>
                                <dd>search lines in <tt><i>FILE</i></tt> matching <tt><i>PATTERN</i></tt></dd>
<dt>ug <i>PATTERN</i> <i>DIR</i></dt>
                                <dd>search files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding sub-directories (like <code>ls DIR</code> takes a <tt><i>DIR</i></tt> to list)</dd>
<dt>ug -r <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding symlinks</dd>
<dt>ug -rS <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, <a href="#constraints">including symlinks to files</a> (option <tt>-S</tt>), but not to directories</dd>
<dt>ug -R <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, including symlinks to files and directories</dd>
<dt>ug -3 <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt> using <tt>-r</tt> up to 3 levels, i.e. <tt><i>DIR/</i></tt>, <tt><i>DIR/one/</i></tt>, and <tt><i>DIR/one/two/</i></tt></dd>
<dt>ug -3 -g"foo*.txt" <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> for filenamess matching <a href="#globs">glob</a> <tt>foo*.txt</tt> (option <tt>-g</tt>) as an <a href="#constraints">inclusive search constraint</a> in <tt><i>DIR</i></tt> using <tt>-r</tt> up to 3 levels</dd>
<dt>ug -z <i>PATTERN</i></dt>
                                <dd>recursively search for files, <a href="#zip">archives and compressed files</a> matching <tt><i>PATTERN</i></tt></dd>
<dt>ug -z -tc,cpp -Z PATTERN</dt>
                                <dd>recursively search for files, <a href="#zip">archives and compressed files</a> (option <tt>-z</tt>) for C and C++ source <a href="#types">file types</a> (option <tt>-t</tt>) that <a href="#fuzzy">fuzzy match</a> <tt>PATTERN</tt> (option <tt>-Z</tt>)</dd>
<dt>ug -z -l "" package.zip</dt>
                                <dd>list (option <tt>-l</tt>) files in archive <tt>package.zip</tt> (option <tt>-z</tt>) using an empty pattern <tt>""</tt> to match all (or use option <tt>--match</tt>)</dd>
<dt>ug -z -W --pager "" mailattachment.zip</dt>
                                <dd>safely page through the contents of <tt>mailattachment.zip</tt> (option <tt>-z</tt>), <a href="#binary">hexdump</a> binary contents (option <tt>-W</tt>) to reveal data</dd>
<dt>ug <i>PATTERN</i> -Opem --filter="pem:openssl x509 -passin pass: -text -in %</dt>
                                <dd><a href="#constraints">recursively find files with suffix</a> <tt>.pem</tt> (option <tt>-O</tt>), then use <tt>openssl</tt> as a <a href="#filter">filter</a> to search the certificate data</dt>
<dt>ug --save-config --ignore-files --ignore-binary --decompress</dt>
                                <dd>save a .ugrep configuration file that lets <tt>ug</tt> obey <a href="#constraints">.gitignore rules</a> in recursive searches, <a href="#constraints">ignore binary files</a> (<tt>-I</tt>) in searches and always <a href="#zip">search archives and compressed files</a> (<tt>-z</tt>)</dd>
<dt>ug --help regex</dt>
                                <dd>get help on <a href="#regex">regex</a> or specify an <a href="#help">option name or a word</a> to get help with</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>the <a href="#regex">regex pattern syntax is standard POSIX ERE</a>, same as <code>egrep</code>, but supporting Unicode by default
<li>patterns match Unicode and may include newline breaks <tt>\n</tt> and <tt>\R</tt> to match multiple lines as a single match; some examples: the pattern <tt>"foo.*\n.*\n.*baz"</tt> matches a line with <tt>foo</tt>, a second line and a third line with <tt>baz</tt>, the pattern <tt>"foo(.*\n)*?.*bar"</tt> lazily matches one or more lines from <tt>foo</tt> to <tt>bar</tt>
<li>quote <tt><i>"PATTERN"</i></tt> or <tt><i>'PATTERN'</i></tt> to prevent globbing of the pattern by the shell that may expand <tt>*</tt>, <tt>?</tt> and <tt>[a-z]</tt> into pathnames
<li><i>Windows Command Prompt</i> does not parse <tt>'</tt> to quote patterns; you must use <tt>"</tt> instead
<li><i>Windows PowerShell</i> does not parse <tt>""</tt> (empty pattern); you must specify <tt>--match</tt> instead
<li>an empty pattern <tt>""</tt> matches every line, same as option <tt>--match</tt>
<li>multiple <tt><i>FILE</i></tt> and <tt><i>DIR</i></tt> pathname arguments may be specified as search targets; if none are provided, the working directory is recursively searched
<li>standard input is searched if standard input is not a terminal, such as a pipe redirect
<li>to replace grep: <tt>alias grep='ug -G'; alias egrep='ug -E'; alias fgrep='ug -F'</tt> or copy/symlink <code>ugrep</code> to <code>grep</code>, <code>egrep</code> and <code>fgrep</code>; it emulates according to these names
</ol>

<a name="options">&nbsp;</a>
<h2>Options</h2>

<p>Ugrep is compatible with GNU grep and supports GNU grep command-line options.  But ugrep also offers new options and features.  In general, command-line options can be mixed and specified in any order.  Long options <tt>--<i>OPTION</i></tt> may start with <tt>--no-<i>OPTION</i></tt> to disable them.  All short options have long alternatives.  This page shows short options for the most part.  Specify <tt>--stats</tt> to output a final summary search report of options, patterns, and search statistics.

<a name="list">&nbsp;</a>
<h3>List matching files</h3>

<dl>
<dt>-l</dt>                     <dd>list matching files</dd>
<dt>-l -m5,</dt>                <dd>list files that have at least 5 matching lines (<tt>-m5,</tt> with the comma is the same as <tt>--min-count=5</tt>)</dd>
<dt>-l --max-files=3</dt>       <dd>list only the first 3 matching files</dd>
<dt>-L</dt>                     <dd>list non-matching files, same as <tt>-lv</tt> i.e. option <tt>-v</tt> inverts matching</dd>
<dt>-c</dt>                     <dd>count matching lines in files</dd>
<dt>-cv</dt>                    <dd>count non-matching lines in files; option <tt>-v</tt> inverts matching</dd>
<dt>-cu</dt>                    <dd>count all pattern matches by ungrouping multiple matches from lines (option <tt>-u</tt>)</dd>
<dt>-cm1,</dt>                  <dd>count matching lines in files, but skip files with zero matches (<tt>-m1,</tt> with comma is <tt>--min-count=1</tt>)</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>if you never want <tt>-c</tt> to output zero match counts, then add <tt>min-count=1</tt> to your ~/.ugrep file (outputing zero match counts is a GNU grep behavior)
<li>to disable directory tree-based listings, specify <tt>--no-tree</tt> or permanently add <tt>no-tree</tt> to your ~/.ugrep file
<li>listings are sorted by name; to sort by date/time or by size, specify <tt>--sort=changed</tt> or <tt>--sort=size</tt>
</ol>

<a name="match">&nbsp;</a>
<h3>Displaying matches, match info, match context</h3>

<dl>
<dt>-H</dt>                     <dd>always output the filename; normally, a filename is not output when searching a single specified file</dd>
<dt>-n</dt>                     <dd>output the line number of a match</dd>
<dt>-k</dt>                     <dd>output the column number of a match; specify <tt>--tabs=NUM</tt> to set the tab size to 1 (no expansion), 2, 4 or 8 (default)</dd>
<dt>-b</dt>                     <dd>output the byte offset of a match</dd>
<dt>-u</dt>                     <dd>ungroup multiple matches from lines to count and output each match separately</dd>
<dt>-C3</dt>                    <dd>output matching lines with 3 lines as context before (option <tt>-B3</tt>) and after (option <tt>-A3</tt>)</dd>
<dt>-y</dt>                     <dd>output matching lines with the rest of the file as context (<tt>--any-line</tt> or <tt>--passthru</tt>)</dd>
<dt>-o</dt>                     <dd>output only the matching part</dd>
<dt>-o -C20</dt>                <dd>output only the matching part with the matching line as context before (option <tt>-B20</tt>) and after (option <tt>-A20</tt>) to fit 40 characters</dd>
<dt>--width</dt>                <dd>truncate lines to the terminal window width; <tt>--width=40</tt> truncates to 40 characters</dd>
</dl>

<a name="modes">&nbsp;</a>
<h3>Pattern matching modes</h3>

<dl>
<dt>-F</dt>                     <dd>search for matching strings, not regex patterns, like GNU <code>fgrep</code> or <code>grep -F</code>
<dt>-G</dt>                     <dd>BRE pattern syntax, like GNU <code>grep</code> or <code>grep -G</code>
<dt>-P</dt>                     <dd>Perl regex pattern search with PCRE, see also <a href="#regex"><tt>ug --help regex</tt></a></dd>
<dt>-Z</dt>                     <dd><a href="#fuzzy">fuzzy search</a> with the default ERE pattern syntax</dd>
<dt>-U</dt>                     <dd>non-Unicode ASCII/binary search; patterns such as <tt>\xa3</tt> match a byte, not the U+00a3 multi-byte code point</dd>
<dt>-Y</dt>                     <dd>empty-matching patterns such as <tt>x*y*z*</tt> match all lines like GNU grep, instead of returning useful matches</dd>
<dt>-i</dt>                     <dd>ignore case in matching patterns</dd>
<dt>-j</dt>                     <dd>smart ignore case, enables <tt>-i</tt> when patterns are specified in lower case</dd>
<dt>-w</dt>                     <dd>patterns must match as words and not be part of words</dd>
<dt>-x</dt>                     <dd>patterns must match whole lines from start to end</dd>
<dt>-v</dt>                     <dd>invert pattern matching; output lines that do not match</dd>
<dt>-e <i>PATTERN</i></dt>      <dd>explicitly specify <tt><i>PATTERN</i></tt>; <tt>-e</tt> is used to specify multiple patterns and when specifying a pattern after the <tt><i>FILE</i></tt> argument</dd>
<dt>-N <i>PATTERN</i></dt>      <dd>do not match <tt><i>PATTERN</i></tt> when combined with <tt>-e</tt>; for example <tt>-e "[0-9]+" -N "0+"</tt> matches nonzero numbers</dd>
<dt>-f <i>FILE</i></dt>         <dd>read (additional) patterns from <tt><i>FILE</i></tt></dd>
<dt>-f cpp/names</dt>           <dd>if <tt>cpp/names</tt> is not a local file, then read built-in C++ name-matching patterns (installed in <tt>/.../share/ugrep/patterns/cpp/names</tt>)</dd>
</dl>

<a name="TUI">&nbsp;</a>
<h3>The interactive TUI</h3>

<dl>
<dt>-Q</dt>                     <dd>start TUI to specify search patterns and options interactively</dd>
<dt>-Q -e <i>PATTERN</i></dt>   <dd>start TUI and search for <tt><i>PATTERN</i></tt></dd>
<dt>-Q -e <i>PATTERN</i> --view=nano</dt>
                                <dd>start TUI to search for <tt><i>PATTERN</i></tt>, press CTRL-Y to edit a matching file at the first matching line with <tt>nano</tt></dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>additional options, files and directories can be specified on the command line to start the TUI search
<li><em>ALT-key</em> toggles the option letter corresponding to the key press, for example <em>ALT-L</em> lists matching files (option <tt>-l</tt>) and <em>SHIFT-ALT-C</em> shows context (option <tt>-C3</tt>)
<li><em>ALT-key</em> in MacOS terminal is <em>OPTION-key</em> when "Use Option as Meta key" is enabled in Terminal Preferences/Profiles/Keyboard
<li>navigate to directories and files with <em>Tab</em>, then <em>SHIFT-Tab</em> to go back and restore previous options and patterns (if changed)
<li>use the cursor keys, <em>PgUp</em>, <em>PgDn</em> and the scroll wheel to scroll the search results
<li><em>CTRL-S</em> jumps to the next directory or file in the results, <em>CTRL-W</em> jumps back
<li><em>CTRL-T</em> toggles the split screen file viewer; option <tt>--split</tt> starts the TUI with the split screen
<li><em>CTRL-Y</em> displays a file in a pager, a specific pager or editor is specified with option <tt>--view=PAGER</tt>
<li><em>CTRL-Z</em> displays help and the active search options that can be toggled on/off with <em>ALT-key</em> or just <em>key</em>
<li><em>ENTER</em> enters output selection mode to select lines to output when exiting the TUI (selections are kept until TUI exits or until a new search is performed)
</ol>

<a name="Google">&nbsp;</a>
<h3>Googling files</h3>

<dl>
<dt>-% "foo bar"</dt>           <dd>search files for lines matching both regex patterns <tt>foo</tt> and <tt>bar</tt> anywhere on the same line</dd>
<dt>-%% "foo bar"</dt>          <dd>find files matching both patterns <tt>foo</tt> and <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
<dt>-% "foo -bar"</dt>          <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere on the same line</dd>
<dt>-%% "foo -bar"</dt>         <dd>find files matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
<dt>-% "foo bar|baz"</dt>       <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>bar|baz</tt> anywhere on the same line</dd>
<dt>-% "foo -(bar|baz)"</dt>    <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar|baz</tt> anywhere on the same line</dd>
<dt>-% "foo AND NOT (bar OR baz)"</dt>
                                <dd>same as above, this time using AND-OR-NOT operators</dd>
<dt>-% "foo -bar -baz"</dt>     <dd>same as above, in normalized form (ugrep's internal CNF)</dd>
<dt>-% 'foo "-bar baz"'</dt>    <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>-bar baz</tt>, where <tt>"-bar baz"</tt> is quoted to match literally "as is"</dd>
<dt>-F -% "*foo* bar?"</dt>     <dd>search files for lines matching both fixed (option <tt>-F</tt>) strings <tt>*foo*</tt> and <tt>bar?</tt> anywhere on the same line</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>option <tt>-%</tt> (or <tt>--bool</tt>) can be combined with any <a href="#modes">pattern matching modes</a> <tt>-F</tt>, <tt>-G</tt>, <tt>-P</tt>, <tt>-Z</tt> and other options
<li>the default search mode is <tt>--lines</tt> for option <tt>-%</tt> to match lines
<li>option <tt>-%%</tt> (or <tt>--bool --files</tt>) matches across entire files, like how a search engine returns results
<li>white space in a pattern is a logical <tt>AND</tt> (lowest precedence)
<li>a <tt>|</tt> in a pattern is a logical <tt>OR</tt> (taking higher precedence than <tt>AND</tt>)
<li>white space followed by a <tt>-</tt> is a logical <tt>NOT</tt> (taking highest precedence)
<li>operators <tt>AND</tt>, <tt>OR</tt> and <tt>NOT</tt> may also be used when properly spaced
<li>quote strings in a pattern with <tt>"</tt> to match literally "as is"
<li>group patterns with <tt>( )</tt> parentheses
</ol>

<a name="fuzzy">&nbsp;</a>
<h3>Fuzzy search</h3>

<dl>
<dt>-Z</dt>                     <dd>approximately match patterns up to one extra, missing or replaced character in the input</dd>
<dt>-Z2</dt>                    <dd>approximately match patterns up to two extra, missing or replaced characters in the input</dd>
<dt>-Z+2</dt>                   <dd>approximately match patterns up to two extra characters in the input</dd>
<dt>-Z-2</dt>                   <dd>approximately match patterns up to two missing characters in the input</dd>
<dt>-Z~2</dt>                   <dd>approximately match patterns up to two replaced characters in the input</dd>
<dt>-Z+-2</dt>                  <dd>approximately match patterns up to two extra or missing characters in the input</dd>
<dt>-Z+-~2</dt>                 <dd>same as <tt>-Z2</tt>: approximately match patterns up to two extra, missing or replaced characters in the input</dd>
<dt>-c -Z</dt>                  <dd>count approximate matches in files</dd>
<dt>-c -Zbest2</dt>             <dd>count <tt>-Z2</tt> approximate matches in files, but only keep the best matches, i.e. if a file has at least one exact match, then only exact matches are counted</dd>
<dt>-c -Zbest2 --sort=best</dt> <dd>count the best approximate matches in files and sort by best matching files for each (sub)directory searched</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>the first character or characters that make up a pattern always match; to approximately match the first character(s), replace it with a <tt>.</tt> or <tt>.?</tt>
<li>no whitespace may be given between <tt>-Z</tt> and its argument
</ol>

<a name="zip">&nbsp;</a>
<h3>Archives and compressed files</h3>

<dl>
<dt>-z</dt>                     <dd>also search zip/7z/tar/pax/cpio archives, tarballs and gz/Z/bz/bz2/lzma/xz/lz4/zstd/brotli compressed files</dd>
<dt>-z --zmax=2</dt>            <dd>also search archives, tarballs and compressed files stored within archives (max 2 levels)</dd>
<dt>-z -I --zmax=2</dt>         <dd>same as above, but ignore binary files and also those in (nested) archives and compressed files</dd>
<dt>-z -tc,cpp</dt>             <dd>search C and C++ source files and also those in archives, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-z -g"*.txt,*.md"</dt>      <dd>search files matching the globs <tt>*.txt</tt> and <tt>*.md</tt> and also those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-z -g"^bak/"</dt>           <dd>exclude all <tt>bak</tt> directories from the search and skip those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>to let <tt>ug</tt> always search archives and compressed files, add <tt>decompress</tt> to your ~/.ugrep file
</ol>

<a name="binary">&nbsp;</a>
<h3>Binary files and devices</h3>

<dl>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-W</dt>                     <dd>hexdump binary matches, while keeping text matches as text</dd>
<dt>-X</dt>                     <dd>hexdump all matches</dd>
<dt>-U --hexdump</dt>           <dd>hexdump 8-bit binary regex pattern matches instead of Unicode character-based patterns (option <tt>-U</tt>)</dd>
<dt>--hexdump=4a</dt>           <dd>hexdump in 4 columns and output a <tt>*</tt> for hex lines that are identical to the previous line (<tt>a</tt>)</dd>
<dt>--hexdump=4ch</dt>          <dd>hexdump in 4 columns, no character column (<tt>c</tt>), no hex spacing (<tt>h</tt>)</dd>
<dt>--hexdump=4C3</dt>          <dd>hexdump in 4 columns with 3 hex lines of context before and after (<tt>C3</tt> or <tt>B3A3</tt>)</dd>
<dt>--hexdump=4C3 -u -b</dt>    <dd>same as above, but ungroup matches (option <tt>-u</tt>) and output the byte position of each match (option <tt>-b</tt>)</dd>
<dt>-Dread</dt>                 <dd>also read special devices to search them; danger: can get stuck on a non-responsive device!</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>option <tt>-U</tt> disables Unicode in regex patterns; patterns such as <tt>\xa3</tt> match a byte, not the U+00a3 multi-byte code point
<li>option <tt>--hexdump</tt> takes optional argument <tt>[1-8][a][bch][A[NUM]][B[NUM]][C[NUM]]</tt> to output 1, 2, 3 or up to 8 columns of hexadecimal octets (default is 2), <tt>a</tt> outputs a <tt>*</tt> for all hex lines that are identical to the previous hex line, <tt>b</tt> removes all space breaks, <tt>c</tt> removes the character column, <tt>h</tt> removes hex spacing, <tt>A</tt> includes up to <tt>NUM</tt> hex lines after a match, <tt>B</tt> includes up to <tt>NUM</tt> hex lines before a match and <tt>C</tt> includes up to <tt>NUM</tt> hex lines before and after a match.
</ol>

<a name="constraints">&nbsp;</a>
<h3>Exclusions and inclusions</h3>

<dl>
<dt>-@</dt>                     <dd>(<b><tt>--all</tt></b>) search all files except hidden: cancel previous restrictions; restrictions specified after this option are still applied, e.g. <tt>-@I</tt> searches all non-binary files</dd>
<dt>-.</dt>                     <dd>(<b><tt>--hidden</tt></b>) include hidden files in searches; normally, hidden files are excluded from searching</dd>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-p</dt>                     <dd>never follow symlinks, even when specified on the command line</dd>
<dt>-r</dt>                     <dd>search recursively without following symlinks</dd>
<dt>-rS</dt>                    <dd>search recursively following symlinks to files, but not to directories (option <tt>-S</tt>)</dd>
<dt>-R</dt>                     <dd>search recursively following symlinks to files and directories</dd>
<dt>-tc,cpp</dt>                <dd>only search C and C++ source files, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-Ohpp,cpp</dt>              <dd>shorthand for <tt>-g"*.hpp,*.cpp"</tt> with filename extension globs to search <tt>.hpp</tt> and <tt>.cpp</tt> files</dd>
<dt>-g"*.hpp,*.cpp"</dt>        <dd>only search <tt>.hpp</tt> and <tt>.cpp</tt> files with the specified glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g"src/"</dt>               <dd>only recursively search <tt>src</tt> directories with the specified glob pattern ending in a <tt>/</tt> for directories, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g"^*.txt,^bak/"</dt>       <dd>do not search <tt>.txt</tt> files and <tt>bak</tt> directories with the specified negated glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--iglob="^*.txt,^bak/"</dt> <dd>same as above, but with case-insensitive glob matching (option <tt>--glob-ignore-case</tt> applies to all globs)</dd>
<dt>-K10,99</dt>                <dd>only search files from line 10 up to and including line 99</dd>
<dt>-m1</dt>                    <dd>output only the first matching line (same as <tt>--max-count=1</tt>)</dd>
<dt>-m2,9</dt>                  <dd>only search files with at least two matching lines and output up to and including 9 matching lines</dd>
<dt>-m2,9 -u</dt>               <dd>only search files with at least two matches and output up to and including 9 matches</dd>
<dt>-3</dt>                     <dd>recursively search up to three directory levels deep, i.e. <tt><i>one/</i></tt>, <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>-2-3</dt>                   <dd>only recursively search sub-directories at two to three levels deep, i.e. <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>--max-files=3</dt>          <dd>only return matches for the first three matching files (in the current <tt>--sort</tt> order)</dd>
<dt>--ignore-files</dt>         <dd>obey .gitignore rules in recursive searches</dd>
<dt>--exclude-fs=<i>PATH</i></dt>
                                <dd>do not search the file system associated with <tt><i>PATH</i></tt> (a mounted directory or mount point)</dd>
<dt>--exclude-fs</dt>
                                <dd>only descend into the file systems associated with the specified file and directory search targets, exclude all other</dt>
<dt>--include-fs=.</dt>         <dd>only search the file system associated with <tt>.</tt> (<tt>.</tt> is the <tt><i>PATH</i></tt>), i.e. ignores all mounted and special devices</dd>
<dt>--exclude-from=<i>FILE</i></dt>
                                <dd>do not search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--include-from=<i>FILE</i></dt>
                                <dd>only search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--filter=<i>"COMMANDS"</i></dt>
                                <dd>filter files first before searching them by executing a utility on a file based on its type, see also <a href="#filter"><tt>ug --help filter</tt></a></dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>to let <tt>ug</tt> ignore binary files by default, add <tt>ignore-binary</tt> to your ~/.ugrep file
<li>to let <tt>ug</tt> obey .gitignore rules in recursive searches by default, add <tt>ignore-files</tt> to your ~/.ugrep file
</ol>

<a name="formatting">&nbsp;</a>
<h3>Formatted output</h3>

<dl>
<dt>--csv</dt>                  <dd>CSV output format</dd>
<dt>--json</dt>                 <dd>JSON output format</dd>
<dt>--xml</dt>                  <dd>XML output format</dd>
<dt>--format=<i>"FORMAT"</i></dt>
                                <dd>custom output formatting, see also <a href="#format"><tt>ug --help format</tt></a></dd>
</dl>

<ol>
<p>Usage tips:</p>
<li>formatting can be combined with other options, such as <tt>-n</tt> to include line numbers
<li>see <a href="#format">custom output formatting</a> for a list of format fields to specify in a <tt>--format=<i>"FORMAT"</i></tt> argument
</ol>

<a name="pretty">&nbsp;</a>
<h3>Pretty things, more or less</h3>

<dl>
<dt>--pretty</dt>               <dd>enable <tt>-n</tt>, <tt>-T</tt>, <tt>--color</tt>, <tt>--tree</tt>, <tt>--heading</tt>, <tt>--break</tt> and <tt>--sort</tt> when output is sent to a terminal</dd>
<dt>--tree</dt>                 <dd>list files in a directory tree for options <tt>-l</tt> and <tt>-c</tt></dd>
<dt>--heading</dt>              <dd>output the file name as a heading of a matching file</dd>
<dt>--break</dt>                <dd>output an empty line between matching files</dd>
<dt>-T</dt>                     <dd>tabulate line and column numbers to add spacing</dd>
<dt>--color</dt>                <dd>colorize the output when displayed on a terminal (default)</dd>
<dt>--colors=<i>COLORS</i></dt> <dd>specify a color pallette <tt><i>COLORS</i></tt>, see also <a href="#colors"><tt>ug --help colors</tt></a></dd>
<dt>--hyperlink=+</dt>          <dd>embed hyperlinks in the output when sent to a terminal, with linked line/column numbers when <tt>=+</tt> is specified</dd>
<dt>--pager</dt>                <dd>output to a pager, default is <tt>more</tt> or <tt>less</tt></dd>
<dt>--pager=<i>COMMAND</i></dt> <dd>output to <tt><i>COMMAND</i></tt> as a pager</dd>
<dt>--tag</dt>                  <dd>output matches as <tt>___<i>match</i>___</tt> instead of colorizing them, where <tt>--tag=<i>TAG,TAG</i></tt> outputs <tt><i>TAGmatchTAG</i></tt></dd>
<dt>--replace=<i>"FORMAT"</i></dt>
                                <dd>replace matches in the output by <tt><i>FORMAT</i></tt>, see also <a href="#format"><tt>ug --help format</tt></a>
<dt>--separator=<i>SEP</i></dt> <dd>specify <tt><i>SEP</i></tt> to separate line and column numbers from the match</dd>
<dt>--group-separator=<i>SEP</i></dt>
                                <dd>specify <tt><i>SEP</i></tt> to separate context for options <tt>-ABC</tt></dd>
<dt>--width</dt>                <dd>truncate lines to the terminal window width; <tt>--width=40</tt> truncates to 40 characters</dd>
</dl>

<ol>
<p>Usage tips:</p>
<li><code>ug</code> enables <tt>--pretty</tt> and <tt>--sort</tt> by default
<li><code>ugrep</code> only enables <tt>--color</tt> by default
</ol>

<a name="help">&nbsp;</a>
<h3>Getting help</h3>

<dl>
<dt>--help <i>WHAT</i></dt>     <dd>display help on <tt><i>WHAT</i></tt> you are looking for</dd>
<dt>--help count</dt>           <dd>display help on option <tt>-c</tt> (or <tt>--count</tt>) and <tt>-m [MIN,][MAX]</tt> (or <tt>--min-count=MIN</tt>, <tt>--max-count=MAX</tt>)</dd>
<dt>--help regex</dt>           <dd>display help with details on regex patterns</dd>
<dt>--help globs</dt>           <dd>display help with details on glob patterns, e.g. for option <tt>-g</tt></dd>
</dl>

<a name="regex">&nbsp;</a>
<h2>Regex</h2>

<center>

<div class="wide">
<table>
<tr><td><tt>.      </tt></td><td>any character except <tt>\n</tt></td></tr>
<tr><td><tt>a      </tt></td><td>the character <tt>a</tt></td></tr>
<tr><td><tt>ab     </tt></td><td>the string <tt>ab</tt></td></tr>
<tr><td><tt>a|b    </tt></td><td><tt>a</tt> or <tt>b</tt></td></tr>
<tr><td><tt>a*     </tt></td><td>zero or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a+     </tt></td><td>one or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a?     </tt></td><td>zero or one <tt>a</tt></td></tr>
<tr><td><tt>a{3}   </tt></td><td>3 <tt>a</tt>'s</td></tr>
<tr><td><tt>a{3,}  </tt></td><td>3 or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a{3,7} </tt></td><td>3 to 7 <tt>a</tt>'s</td></tr>
<tr><td><tt>a*?    </tt></td><td>zero or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a+?    </tt></td><td>one or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a??    </tt></td><td>zero or one <tt>a</tt> lazily</td></tr>
<tr><td><tt>a{3}?  </tt></td><td>3 <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a{3,}? </tt></td><td>3 or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a{3,7}?</tt></td><td>3 to 7 <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a(b|cd?)       </tt></td><td><tt>ab</tt> or <tt>ac</tt> or <tt>acd</tt></td></tr>
<tr><td><tt>\.             </tt></td><td>escapes <tt>.</tt> to match <tt>.</tt></td></tr>
<tr><td><tt>\Q...\E        </tt></td><td>the literal string <tt>...</tt></td></tr>
<tr><td><tt>\f             </tt></td><td>form feed</td></tr>
<tr><td><tt>\n             </tt></td><td>newline</td></tr>
<tr><td><tt>\r             </tt></td><td>carriage return</td></tr>
<tr><td><tt>\R             </tt></td><td>any Unicode line break</td></tr>
<tr><td><tt>\t             </tt></td><td>tab</td></tr>
<tr><td><tt>\v             </tt></td><td>vertical tab</td></tr>
<tr><td><tt>\X             </tt></td><td>any character and <tt>\n</tt></td></tr>
<tr><td><tt>\c<i>Z</i>     </tt></td><td>control character <tt>^<i>Z</i></tt></td></tr>
<tr><td><tt>\0             </tt></td><td>NUL</td></tr>
<tr><td><tt>\0<i>ddd</i>   </tt></td><td>octal character code <tt><i>ddd</i></tt></td></tr>
<tr><td><tt>\x<i>hh</i>    </tt></td><td>hex character code <tt><i>hh</i></tt></td></tr>
<tr><td><tt>\x{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
<tr><td><tt>\u{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
</table>
</div>

<div class="wide">
<table>
<tr><td><tt>[abc-e]         </tt></td><td>one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</td></tr>
<tr><td><tt>[^abc-e]        </tt></td><td>one char not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>\n</tt></td></tr>
<tr><td><tt>[[:alnum:]]     </tt></td><td>a letter or decimal digit</td></tr>
<tr><td><tt>[[:alpha:]]     </tt></td><td>a lower or uppercase letter</td></tr>
<tr><td><tt>[[:ascii:]]     </tt></td><td>ASCII char <tt>\x00</tt>-<tt>\x7f</tt></td></tr>
<tr><td><tt>[[:blank:]]     </tt></td><td>a space or a tab</td></tr>
<tr><td><tt>[[:cntrl:]]     </tt></td><td>a control character</td></tr>
<tr><td><tt>[[:digit:]]     </tt></td><td>a decimal digit</td></tr>
<tr><td><tt>[[:graph:]]     </tt></td><td>a visible character</td></tr>
<tr><td><tt>[[:lower:]]     </tt></td><td>a lowercase letter</td></tr>
<tr><td><tt>[[:print:]]     </tt></td><td>a visible char or space</td></tr>
<tr><td><tt>[[:punct:]]     </tt></td><td>a punctuation character</td></tr>
<tr><td><tt>[[:space:]]     </tt></td><td>a space,<tt>\t</tt>,<tt>\v</tt>,<tt>\f</tt>,<tt>\r</tt></td></tr>
<tr><td><tt>[[:upper:]]     </tt></td><td>an uppercase letter</td></tr>
<tr><td><tt>[[:word:]]      </tt></td><td>a word-like character</td></tr>
<tr><td><tt>[[:xdigit:]]    </tt></td><td>a hexadecimal digit</td></tr>
<tr><td><tt>\p{<i>Class</i>}</tt></td><td>one character in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\P{<i>Class</i>}</tt></td><td>one char not in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\d              </tt></td><td>a decimal digit</td></tr>
<tr><td><tt>\D              </tt></td><td>a non-digit character</td></tr>
<tr><td><tt>\h              </tt></td><td>a space or a tab</td></tr>
<tr><td><tt>\H              </tt></td><td>not a space or a tab</td></tr>
<tr><td><tt>\l              </tt></td><td>a lowercase letter</td></tr>
<tr><td><tt>\L              </tt></td><td>a non-lowercase character</td></tr>
<tr><td><tt>\s              </tt></td><td>a whitespace except <tt>\n</tt></td></tr>
<tr><td><tt>\S              </tt></td><td>a non-whitespace</td></tr>
<tr><td><tt>\u              </tt></td><td>an uppercase letter</td></tr>
<tr><td><tt>\U              </tt></td><td>a non-uppercase character</td></tr>
<tr><td><tt>\w              </tt></td><td>a word-like character</td></tr>
<tr><td><tt>\W              </tt></td><td>a non-word character</td></tr>
</table>
</div>

<div>
<table>
<tr><td><tt>^          </tt></td><td>begin of line anchor</td></tr>
<tr><td><tt>$          </tt></td><td>end of line anchor</td></tr>
<tr><td><tt>\A         </tt></td><td>begin of file anchor</td></tr>
<tr><td><tt>\Z         </tt></td><td>end of file anchor</td></tr>
<tr><td><tt>\b         </tt></td><td>word boundary</td></tr>
<tr><td><tt>\B         </tt></td><td>non-word boundary</td></tr>
<tr><td><tt>\&lt;      </tt></td><td>start of word boundary</td></tr>
<tr><td><tt>\&gt;      </tt></td><td>end of word boundary</td></tr>
<tr><td><tt>(?#...)    </tt></td><td>comments <tt>...</tt> are ignored</td></tr>
<tr><td><tt>(...)      </tt></td><td>group</td></tr>
</table>

&nbsp;<br>
&nbsp;<br>

<table>
<tr><th colspan=2>patterns that require option <tt>-P</tt></th></tr>
<tr><td><tt>(...)      </tt></td><td>capturing group</td></tr>
<tr><td><tt>(?:...)    </tt></td><td>non-capturing group</td></tr>
<tr><td><tt>(?=...)    </tt></td><td>lookahead</td></tr>
<tr><td><tt>(?!...)    </tt></td><td>negative lookahead</td></tr>
<tr><td><tt>(?&lt;=...)</tt></td><td>lookbehind</td></tr>
<tr><td><tt>(?&lt;!...)</tt></td><td>negative lookbehind</td></tr>
<tr><td><tt>(?&lt;<i>X</i>&gt;...)</tt></td><td>capturing group name <tt><i>X</i></tt></td></tr>
<tr><td><tt>\3                    </tt></td><td>matches group 3</td></tr>
<tr><td><tt>\g{10}                </tt></td><td>matches group 10</td></tr>
<tr><td><tt>\g{<i>X</i>}          </tt></td><td>matches group name <i>X</i></td></tr>
</table>
</div>

</center>

<ol>
<!-- <li>(<b><tt>-P</tt></b>): this pattern requires option <tt>-P</tt> for PCRE (Perl regular expressions) -->
<li>ERE (Extended Regular Expression) syntax is the default in ugrep (shown in the table), like GNU <code>egrep</code> or <code>grep -E</code>
<li>ERE syntax is also used with option <tt>-P</tt> for PCRE (Perl regular expressions), adding lookaround and group capture patterns
<li>BRE (Basic Regular Expression) syntax with option <tt>-G</tt> requires the <tt>\</tt>-escaped syntax <tt>\|</tt> for <tt>|</tt>, <tt>\+</tt> for <tt>+</tt>, <tt>\?</tt> for <tt>?</tt>, <tt>\( \)</tt> for <tt>( )</tt>, and <tt>\{ \}</tt> for <tt>{ }</tt>
<li>option <tt>-U</tt> disables Unicode in regex patterns and speeds up searching; patterns such as <tt>\xa3</tt> match a byte, not the U+00a3 multi-byte code point
<li>character classes such as <tt>\s</tt> and negated classes such as <tt>[^abc-e]</tt> never match a newline <tt>\n</tt> which is implicitly removed for grep compatibility
<li>explicitly specify a <tt>\n</tt> or a <tt>\R</tt> in a pattern such as <tt>"go[\s\n]up"</tt> to match multiple lines as a single match
<li>mutiple classes are combined in a single bracket list, such as <tt>[.[:xdigit:]\s]</tt> to combine <tt>.</tt> wtih hexadecimal digits and space
<li>subtract classes in a bracket list with <tt>[\w--[\d]]</tt> or intersect classes in a bracket list with <tt>[\w&amp;&amp;[\d]]</tt> which is just <tt>\d</tt>
<li>for <tt>\p{<i>Class</i>}</tt> (match one character in <tt><i>Class</i></tt>) and for <tt>\P{<i>Class</i>}</tt> (match one character not in <tt><i>Class</i></tt>) a Unicode <tt><i>Class</i></tt> is one of:
</ol>

<center>
<div>
<table>
<tr><td><tt>ASCII</tt></td><td>any ASCII character</td></tr>
<tr><td><tt>Unicode</tt></td><td>any Unicode character except <tt>\n</tt></td></tr>
<tr><td><tt>Non_ASCII_Unicode</tt></td><td>any non-ASCII Unicode character</td></td></tr>
<tr><td><tt>Alpha</tt></td><td><tt>Ll</tt> or <tt>Lu</tt>, same as <tt>[[:alpha:]]</tt></td></tr>
<tr><td><tt>Alnum</tt></td><td><tt>Ll</tt> or <tt>Lu</tt> or <tt>Nd</tt>, same as <tt>[[:alnum:]]</tt></td></tr>
<tr><td><tt>Space</tt></td><td><tt>Zs</tt> or <tt>\t</tt>,<tt>\v</tt>,<tt>\f</tt>,<tt>\r</tt> whitespace, same as <tt>\s</tt> or <tt>[[:space:]]</tt></td></tr>
<tr><td><tt>Word</tt></tt></td><td><tt>L</tt> or <tt>Nd</tt> or <tt>Pc</tt>, same as <tt>\w</tt> or <tt>[[:word:]]</tt></td></tr>
<tr><td><tt>L&amp;</tt></td><td><tt>Ll</tt> or <tt>Lu</tt> or <tt>Lt</tt></td></tr>
<tr><td><tt>L</tt> or <tt>Letter</tt></td><td><tt>Ll</tt> or <tt>Lu</tt> or <tt>Lt</tt> or <tt>Lm</tt> or <tt>Lo</tt></td></tr>
<tr><td><tt>M</tt> or <tt>Mark</tt></td><td><tt>Mn</tt> or <tt>Mc</tt> or <tt>Me</tt></td></tr>
<tr><td><tt>Z</tt> or <tt>Separator</tt></td><td><tt>Zs</tt> or <tt>Zl</tt> or <tt>Zp</tt></td></tr>
<tr><td><tt>S</tt> or <tt>Symbol</tt></td><td><tt>Sm</tt> or <tt>Sc</tt> or <tt>Sk</tt> or <tt>So</tt></td></tr>
<tr><td><tt>N</tt> or <tt>Number</tt></td><td><tt>Nd</tt> or <tt>Nl</tt> or <tt>No</tt></td></tr>
<tr><td><tt>P</tt> or <tt>Punctuation</tt></td><td><tt>Pd</tt> or <tt>Ps</tt> or <tt>Pe</tt> or <tt>Pi</tt> or <tt>Pf</tt> or <tt>Pc</tt> or <tt>Po</tt>, same as <tt>[[:punct:]]</tt></td></tr>
<tr><td><tt>C</tt> or <tt>Other</tt></td><td><tt>Cc</tt> or <tt>Cf</tt>, same as <tt>[[:cntrl:]]</tt></td></tr>
<tr><td><tt>Ll</tt> or <tt>Lower</tt> or <tt>Lowercase_Letter</tt></td><td>a lower case letter, same as <tt>\l</tt> or <tt>[[:lower:]]</tt></td></tr>
<tr><td><tt>Lu</tt> or <tt>Upper</tt> or <tt>Uppercase_Letter</tt></td><td>an upper case letter, same as <tt>\u</tt> or <tt>[[:upper:]]</tt></td></tr>
<tr><td><tt>Lt</tt> or <tt>Titlecase_Letter</tt></td><td>a title case letter</td></tr>
<tr><td><tt>Lm</tt> or <tt>Modifier_Letter</tt></td><td>a modifier letter</td></tr>
<tr><td><tt>Lo</tt> or <tt>Other_Letter</tt></td><td>any other letter </td></tr>
<tr><td><tt>Mn</tt> or <tt>Non_Spacing_Mark</tt></td><td>a nonspacing mark</td></tr>
<tr><td><tt>Mc</tt> or <tt>Spacing_Combining_Mark</tt></td><td>a spacing mark</td></tr>
<tr><td><tt>Me</tt> or <tt>Enclosing_Mark</tt></td><td>an enclosing mark </td></tr>
<tr><td><tt>Zs</tt> or <tt>Space_Separator</tt></td><td>a space separator</td></tr>
<tr><td><tt>Zl</tt> or <tt>Line_Separator</tt></td><td>a line separator</td></tr>
<tr><td><tt>Zp</tt> or <tt>Paragraph_Separator</tt></td><td>a paragraph separator</td></tr>
<tr><td><tt>Sm</tt> or <tt>Math_Symbol</tt></td><td>a math symbol</td></tr>
<tr><td><tt>Sc</tt> or <tt>Currency_Symbol</tt></td><td>a currency symbol</td></tr>
<tr><td><tt>Sk</tt> or <tt>Modifier_Symbol</tt></td><td>a modifier symbol</td></tr>
<tr><td><tt>So</tt> or <tt>Other_Symbol</tt></td><td>any other symbol</td></tr>
<tr><td><tt>Nd</tt> or <tt>Decimal_Digit_Number</tt></td><td>a decimal number, same as <tt>\d</tt> or <tt>[[:digit:]]</tt></td></tr>
<tr><td><tt>Nl</tt> or <tt>Letter_Number</tt></td><td>a letter number</td></tr>
<tr><td><tt>No</tt> or <tt>Other_Number</tt></td><td>any other number</td></tr>
<tr><td><tt>Pd</tt> or <tt>Dash_Punctuation</tt></td><td>a dash punctuation</td></tr>
<tr><td><tt>Ps</tt> or <tt>Open_Punctuation</tt></td><td>an open punctuation</td></tr>
<tr><td><tt>Pe</tt> or <tt>Close_Punctuation</tt></td><td>a close punctuation</td></tr>
<tr><td><tt>Pi</tt> or <tt>Initial_Punctuation</tt></td><td>an initial punctuation</td></tr>
<tr><td><tt>Pf</tt> or <tt>Final_Punctuation</tt></td><td>a final punctuation</td></tr>
<tr><td><tt>Pc</tt> or <tt>Connector_Punctuation</tt></td><td>a connector punctuation</td></tr>
<tr><td><tt>Po</tt> or <tt>Other_Punctuation</tt></td><td>any other punctuation</td></tr>
<tr><td><tt>Cc</tt> or <tt>Control</tt></td><td>a control character</td></tr>
<tr><td><tt>Cf</tt> or <tt>Format</tt></td><td>a format character</td></tr>
<tr><td><tt>UnicodeIdentifierStart</tt></td><td><tt>L</tt> or <tt>Nl</tt></td></tr>
<tr><td><tt>UnicodeIdentifierPart</tt></td><td><tt>L</tt> or <tt>Nl</tt> or <tt>Mn</tt> or <tt>Mc</tt> or <tt>Nd</tt> or <tt>Cf</tt> or <tt>IdentifierIgnorable</tt></td></tr>
<tr><td><tt>IdentifierIgnorable</tt></td><td>U+0000~0008,000E~001B,007F,0080~009F</td></tr>
<tr><td><tt>JavaIdentifierStart</tt></td><td><tt>L</tt> or <tt>Nl</tt> or <tt>Sc</tt> or <tt>Pc</tt></td></tr>
<tr><td><tt>JavaIdentifierPart</tt></td><td><tt>L</tt> or <tt>Nl</tt> or <tt>Sc</tt> or <tt>Pc</tt> or <tt>Mn</tt> or <tt>Mc</tt> or <tt>Nd</tt> or <tt>Cf</tt></td></td></tr>
<tr><td><tt>CsIdentifierStart</tt></td><td><tt>L</tt> or <tt>Nl</tt> or <tt>Pc</tt> or '<tt>@</tt>'</td></tr>
<tr><td><tt>CsIdentifierPart</tt></td><td><tt>L</tt> or <tt>Nl</tt> or <tt>Pc</tt> or <tt>Mn</tt> or <tt>Mc</tt> or <tt>Nd</tt> or <tt>Cf</tt></td></tr>
<tr><td><tt>PythonIdentifierStart</tt></td><td>a start of Python identifier character</td></tr>
<tr><td><tt>PythonIdentifierPart</tt></td><td>a Python identifier character</td></tr>
<tr><td><tt>Is<i>Block</i></tt></td><td>a character in the specified Unicode <tt><i>Block</i></tt></td></tr>
<tr><td><tt><i>Language</i></tt></td><td>a character in the specified <tt><i>Language</i></tt></td></tr>
</table>
</div>
</center>

<a name="globs">&nbsp;</a>
<h2>Globs</h2>

<p>Ugrep supports gitignore-style globbing for all glob-related options <tt>-g</tt>, <tt>--iglob=</tt>, <tt>--exclude=</tt>, <tt>--include=</tt>, <tt>-include-dir=</tt>, <tt>--exclude-dir=</tt>, <tt>--include-from=</tt>, <tt>--exclude-from=</tt>, and <tt>--ignore-files</tt>, where

<table align=center>
<tr><td><tt>*       </tt></td><td>matches anything except <tt>/</tt></td></tr>
<tr><td><tt>?       </tt></td><td>matches any one character except <tt>/</tt></td></tr>
<tr><td><tt>[abc-e] </tt></td><td>matches one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt></td></tr>
<tr><td><tt>[^abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>[!abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>/       </tt></td><td>when used at the start of a glob, matches the working directory</td></tr>
<tr><td><tt>**/     </tt></td><td>matches zero or more directories on a path</td></tr>
<tr><td><tt>/**     </tt></td><td>when at the end of a glob, matches all paths after the <tt>/</tt></td></tr>
<tr><td><tt>\?      </tt></td><td>matches a <tt>?</tt> or any other character specified after the backslash</td></tr>
</table>

<ol>
<li>to prevent the shell from expanding globs, you must quote globs like <tt>"*.cpp"</tt> in command-line options such as <tt>-g"*.cpp"</tt>,  
<li>a glob pattern starting with a <tt>^</tt> or a <tt>!</tt> inverts matching: instead of matching a filename or directory name, the directory or file is ignored and excluded from the search
<li>when a glob pattern contains a <tt>/</tt>, the full pathname is matched, otherwise, the basename of a file or directory is matched in recursive searches
<li>when a glob pattern starts with a <tt>/</tt>, the glob matches files and directories from the working directory path, not recursively
<li>when a glob pattern ends with a <tt>/</tt>, the glob matches directories, not files
</ol>

<a name="types">&nbsp;</a>
<h2>File types</h2>

<p>The <tt>-t</tt> or <tt>--file-type=</tt> argument is a comma-separated list of file types.  A file type is associated with one or more filename extensions, internally using option <tt>-O</tt> to match filename extensions.  For capitalized file types, the search is expanded to include files with matching file signature magic bytes, internally using option <tt>-M</tt>.  When a type is preceded by a <tt>!</tt> or a <tt>^</tt>, excludes files of the specified type.

<table align=center>
<tr><td><tt>actionscript</tt></td><td>=</td><td><tt>-O as,mxml</tt></td></tr>
<tr><td><tt>         ada</tt></td><td>=</td><td><tt>-O ada,adb,ads</tt></td></tr>
<tr><td><tt>         asm</tt></td><td>=</td><td><tt>-O asm,s,S</tt></td></tr>
<tr><td><tt>         asp</tt></td><td>=</td><td><tt>-O asp</tt></td></tr>
<tr><td><tt>        aspx</tt></td><td>=</td><td><tt>-O master,ascx,asmx,aspx,svc</tt></td></tr>
<tr><td><tt>    autoconf</tt></td><td>=</td><td><tt>-O ac,in</tt></td></tr>
<tr><td><tt>    automake</tt></td><td>=</td><td><tt>-O am,in</tt></td></tr>
<tr><td><tt>         awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>         Awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wg?awk(\W.*)?\n'</tt></td></tr>
<tr><td><tt>       basic</tt></td><td>=</td><td><tt>-O bas,BAS,cls,frm,ctl,vb,resx</tt></td></tr>
<tr><td><tt>       batch</tt></td><td>=</td><td><tt>-O bat,BAT,cmd,CMD</tt></td></tr>
<tr><td><tt>       bison</tt></td><td>=</td><td><tt>-O y,yy,ymm,ypp,yxx</tt></td></tr>
<tr><td><tt>           c</tt></td><td>=</td><td><tt>-O c,h,H,hdl,xs</tt></td></tr>
<tr><td><tt>         c++</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>     clojure</tt></td><td>=</td><td><tt>-O clj</tt></td></tr>
<tr><td><tt>         cpp</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>      csharp</tt></td><td>=</td><td><tt>-O cs</tt></td></tr>
<tr><td><tt>         css</tt></td><td>=</td><td><tt>-O css</tt></td></tr>
<tr><td><tt>         csv</tt></td><td>=</td><td><tt>-O csv</tt></td></tr>
<tr><td><tt>        dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>        Dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wdart(\W.*)?\n'</tt></td></tr>
<tr><td><tt>      delphi</tt></td><td>=</td><td><tt>-O pas,int,dfm,nfm,dof,dpk,dproj,groupproj,bdsgroup,bdsproj</tt></td></tr>
<tr><td><tt>       elisp</tt></td><td>=</td><td><tt>-O el</tt></td></tr>
<tr><td><tt>      elixir</tt></td><td>=</td><td><tt>-O ex,exs</tt></td></tr>
<tr><td><tt>      erlang</tt></td><td>=</td><td><tt>-O erl,hrl</tt></td></tr>
<tr><td><tt>     fortran</tt></td><td>=</td><td><tt>-O for,ftn,fpp,f,F,f77,F77,f90,F90,f95,F95,f03,F03</tt></td></tr>
<tr><td><tt>         gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>         Gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M 'GIF87a|GIF89a'</tt></td></tr>
<tr><td><tt>          go</tt></td><td>=</td><td><tt>-O go</tt></td></tr>
<tr><td><tt>      groovy</tt></td><td>=</td><td><tt>-O groovy,gtmpl,gpp,grunit,gradle</tt></td></tr>
<tr><td><tt>         gsp</tt></td><td>=</td><td><tt>-O gsp</tt></td></tr>
<tr><td><tt>     haskell</tt></td><td>=</td><td><tt>-O hs,lhs</tt></td></tr>
<tr><td><tt>        html</tt></td><td>=</td><td><tt>-O htm,html,xhtml</tt></td></tr>
<tr><td><tt>        jade</tt></td><td>=</td><td><tt>-O jade</tt></td></tr>
<tr><td><tt>        java</tt></td><td>=</td><td><tt>-O java,properties</tt></td></tr>
<tr><td><tt>        jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>        Jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\xff\xd8\xff[\xdb\xe0\xe1\xee]'</tt></td></tr>
<tr><td><tt>          js</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        json</tt></td><td>=</td><td><tt>-O json</tt></td></tr>
<tr><td><tt>         jsp</tt></td><td>=</td><td><tt>-O jsp,jspx,jthm,jhtml</tt></td></tr>
<tr><td><tt>       julia</tt></td><td>=</td><td><tt>-O jl</tt></td></tr>
<tr><td><tt>      kotlin</tt></td><td>=</td><td><tt>-O kt,kts</tt></td></tr>
<tr><td><tt>        less</tt></td><td>=</td><td><tt>-O less</tt></td></tr>
<tr><td><tt>         lex</tt></td><td>=</td><td><tt>-O l,ll,lmm,lpp,lxx</tt></td></tr>
<tr><td><tt>        lisp</tt></td><td>=</td><td><tt>-O lisp,lsp</tt></td></tr>
<tr><td><tt>         lua</tt></td><td>=</td><td><tt>-O lua</tt></td></tr>
<tr><td><tt>          m4</tt></td><td>=</td><td><tt>-O m4</tt></td></tr>
<tr><td><tt>        make</tt></td><td>=</td><td><tt>-O mk,mak</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g makefile,Makefile,Makefile.Debug,Makefile.Release</tt></td></tr>
<tr><td><tt>    markdown</tt></td><td>=</td><td><tt>-O md</tt></td></tr>
<tr><td><tt>      matlab</tt></td><td>=</td><td><tt>-O m</tt></td></tr>
<tr><td><tt>        node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        Node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wnode(\W.*)?\n'</tt></td></tr>
<tr><td><tt>        objc</tt></td><td>=</td><td><tt>-O m,h</tt></td></tr>
<tr><td><tt>      objc++</tt></td><td>=</td><td><tt>-O mm,h</tt></td></tr>
<tr><td><tt>       ocaml</tt></td><td>=</td><td><tt>-O ml,mli,mll,mly</tt></td></tr>
<tr><td><tt>      parrot</tt></td><td>=</td><td><tt>-O pir,pasm,pmc,ops,pod,pg,tg</tt></td></tr>
<tr><td><tt>      pascal</tt></td><td>=</td><td><tt>-O pas,pp</tt></td></tr>
<tr><td><tt>         pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>         Pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x25\x50\x44\x46\x2d'</tt></td></tr>
<tr><td><tt>        perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi
<tr><td><tt>        Perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wperl(\W.*)?\n'</tt></td></tr>
<tr><td><tt>         php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>         Php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wphp(\W.*)?\n'</tt></td></tr>
<tr><td><tt>         png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>         Png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x89PNG\x0d\x0a\x1a\x0a'</tt></td></tr>
<tr><td><tt>      prolog</tt></td><td>=</td><td><tt>-O pl,pro</tt></td></tr>
<tr><td><tt>      python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>      Python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wpython[23]?(\W.*)?\n'</tt></td></tr>
<tr><td><tt>           r</tt></td><td>=</td><td><tt>-O R</tt></td></tr>
<tr><td><tt>         rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>         Rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\xed\xab\xee\xdb'</tt></td></tr>
<tr><td><tt>         rst</tt></td><td>=</td><td><tt>-O rst</tt></td></tr>
<tr><td><tt>         rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>         Rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\{\rtf1'</tt></td></tr>
<tr><td><tt>        ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>        Ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wruby(\W.*)?\n'</tt></td></tr>
<tr><td><tt>        rust</tt></td><td>=</td><td><tt>-O rs</tt></td></tr>
<tr><td><tt>       scala</tt></td><td>=</td><td><tt>-O scala</tt></td></tr>
<tr><td><tt>      scheme</tt></td><td>=</td><td><tt>-O scm,ss</tt></td></tr>
<tr><td><tt>       shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>       Shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\W(ba|da|t?c|k|z|fi)?sh(\W.*)?\n'</tt></td></tr>
<tr><td><tt>   smalltalk</tt></td><td>=</td><td><tt>-O st</tt></td></tr>
<tr><td><tt>         sql</tt></td><td>=</td><td><tt>-O sql,ctl</tt></td></tr>
<tr><td><tt>         svg</tt></td><td>=</td><td><tt>-O svg</tt></td></tr>
<tr><td><tt>       swift</tt></td><td>=</td><td><tt>-O swift</tt></td></tr>
<tr><td><tt>         tcl</tt></td><td>=</td><td><tt>-O tcl,itcl,itk</tt></td></tr>
<tr><td><tt>         tex</tt></td><td>=</td><td><tt>-O tex,cls,sty,bib</tt></td></tr>
<tr><td><tt>        text</tt></td><td>=</td><td><tt>-O text,txt,TXT,md,rst</tt></td></tr>
<tr><td><tt>        tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>        Tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x49\x49\x2a\x00|\x4d\x4d\x00\x2a'</tt></td></tr>
<tr><td><tt>          tt</tt></td><td>=</td><td><tt>-O tt,tt2,ttml</tt></td></tr>
<tr><td><tt>  typescript</tt></td><td>=</td><td><tt>-O ts,tsx</tt></td></tr>
<tr><td><tt>     verilog</tt></td><td>=</td><td><tt>-O v,vh,sv</tt></td></tr>
<tr><td><tt>        vhdl</tt></td><td>=</td><td><tt>-O vhd,vhdl</tt></td></tr>
<tr><td><tt>         vim</tt></td><td>=</td><td><tt>-O vim</tt></td></tr>
<tr><td><tt>         xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>         Xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '&lt;\?xml '</tt></td></tr>
<tr><td><tt>        yacc</tt></td><td>=</td><td><tt>-O y</tt></td></tr>
<tr><td><tt>        yaml</tt></td><td>=</td><td><tt>-O yaml,yml</tt></td></tr>
<tr><td><tt>         zig</tt></td><td>=</td><td><tt>-O zig,zon</tt></td></tr>
</table>

<a name="filter">&nbsp;</a>
<h2>Filters</h2>

<p>A filter utility is associated with one or more filename extensions using the syntax <tt>--filter="ext1,ext2,ext3:command"</tt>.  Options to the specified <tt>command</tt> may be included.  The special command parameter <tt>%</tt> is expanded into the pathname of the file to filter.  Filters are applied when the filename extension matches one of the specified filters, then the output of the filter is searched.  A wildcard <tt>*</tt> matches any extension.  Some examples:

<dl>
<dt>--filter="pdf:pdftotext % -"</dt>
                                <dd>search PDF files, like <code>ug+</code></dd>
<dt>--filter="doc:antiword %"</dt>
                                <dd>search documents, like <code>ug+</code></dd>
<dt>--filter="odt,docx,epub,rtf:pandoc --wrap=preserve -t plain % -o -"</dt>
                                <dd>search documents and e-books, like <code>ug+</code></dd>
<dt>--filter="gif,jpg,jpeg,mpg,mpeg,png,tiff:exiftool %"</dt>
                                <dd>search image metadata, like <code>ug+</code></dd>
<dt>--filter="odt,doc,docx,rtf,xls,xlsx,ppt,pptx:soffice --headless --cat %"</dt>
                                <dd>search documents, spreadsheets and presentations (this is slow)</dd>
<dt>--filter="pem:openssl x509 -passin pass: -text -in %,cer,crt,der:openssl x509 -passin pass: -text -inform der -in %"</dt>
                                <dd>search <tt>.pem</tt>, <tt>.cer</tt>, <tt>.crt</tt> and <tt>.der</tt> certificates</dd>
<dt>--filter="jis:iconv -f SHIFT-JIS -t UTF-8"</dt>
                                <dd>search <tt>.jis</tt> files encoded in Shift-JIS format converted to UTF-8</dd>
<dt>--filter="o,a,so:nm -gU %"</dt>
                                <dd>search object files and libraries for defined symbols</dd>
<dt>--filter="*:file %"</dt>    <dd>search the file type info of every file using the <tt>file</tt> utility</dd>
</dl>

<ol>
<li><tt>--filter</tt> is not available in Windows <tt>ugrep.exe</tt></li>
<li>a filter utility should be a command or a script that produces standard output (to search)
<li>instead of a filename extension alone, it is also possible to specify a file's "magic bytes" regex pattern with <tt>--filter-magic-label=<i>"LABEL:MAGIC"</i></tt> to associate the <tt><i>MAGIC</i></tt> regex pattern when found at the start of a file with a <tt><i>LABEL</i></tt> to be used as a filename extension in a <tt>--filter="<i>LABEL</i>:command"</tt>
<li>UTF-8, UTF-16 and UTF-32 input is automatically searched and does not require a filter
<li>the Shift-JIS conversion in the example is a special case, option <tt>--encoding=</tt> supports the arguments
  <tt>binary</tt>, <tt>ASCII</tt>, <tt>UTF-8</tt>, <tt>UTF-16</tt>, <tt>UTF-16BE</tt>,
  <tt>UTF-16LE</tt>, <tt>UTF-32</tt>, <tt>UTF-32BE</tt>, <tt>UTF-32LE</tt>, <tt>LATIN1</tt>,
  <tt>ISO-8859-1</tt>, <tt>ISO-8859-2</tt>, <tt>ISO-8859-3</tt>, <tt>ISO-8859-4</tt>,
  <tt>ISO-8859-5</tt>, <tt>ISO-8859-6</tt>, <tt>ISO-8859-7</tt>, <tt>ISO-8859-8</tt>,
  <tt>ISO-8859-9</tt>, <tt>ISO-8859-10</tt>, <tt>ISO-8859-11</tt>, <tt>ISO-8859-13</tt>,
  <tt>ISO-8859-14</tt>, <tt>ISO-8859-15</tt>, <tt>ISO-8859-16</tt>, <tt>MAC</tt>, <tt>MACROMAN</tt>,
  <tt>EBCDIC</tt>, <tt>CP437</tt>, <tt>CP850</tt>, <tt>CP858</tt>, <tt>CP1250</tt>, <tt>CP1251</tt>, <tt>CP1252</tt>,
  <tt>CP1253</tt>, <tt>CP1254</tt>, <tt>CP1255</tt>, <tt>CP1256</tt>, <tt>CP1257</tt>, <tt>CP1258</tt>,
  <tt>KOI8-R</tt>, <tt>KOI8-U</tt>, <tt>KOI8-RU</tt>
</ol>

<a name="colors">&nbsp;</a>
<h2>Colors</h2>

<p>The <tt>--colors=</tt> argument is a colon-separated list of parameters, such as <tt>--colors=sl=hy:mt=hyB</tt>, where

<table align=center>
<tr><td><tt>sl=</tt></td><td>selected lines</td></tr>
<tr><td><tt>cx=</tt></td><td>context lines</td></tr>
<tr><td><tt>rv </tt></td><td>swaps the <tt>sl=</tt> and <tt>cx=</tt> capabilities when <tt>-v</tt> is specified</td></tr>
<tr><td><tt>mt=</tt></td><td>matching text in any matching line</td></tr>
<tr><td><tt>ms=</tt></td><td>matching text in a selected line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>mc=</tt></td><td>matching text in a context line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>fn=</tt></td><td>file names</td></tr>
<tr><td><tt>ln=</tt></td><td>line numbers</td></tr>
<tr><td><tt>cn=</tt></td><td>column numbers</td></tr>
<tr><td><tt>bn=</tt></td><td>byte offsets</td></tr>
<tr><td><tt>se=</tt></td><td>separators</td></tr>
<tr><td><tt>hl </tt></td><td>hyperlink file names, same as <tt>--hyperlink</tt></td></tr>
<tr><td><tt>qp=</tt></td><td>TUI prompt</td></tr>
<tr><td><tt>qe=</tt></td><td>TUI errors</td></tr>
<tr><td><tt>qr=</tt></td><td>TUI regex</td></tr>
<tr><td><tt>qm=</tt></td><td>TUI regex meta characters</td></tr>
<tr><td><tt>ql=</tt></td><td>TUI regex lists and literals</td></tr>
<tr><td><tt>qb=</tt></td><td>TUI regex braces</td></tr>
</table>

<p>Multiple <a target="_blank" href="https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters">SGR codes</a> may be specified for a single parameter when separated by a semicolon, for example <tt>--colors="mt=1;31"</tt> specifies bright red.  For quick and easy color specification, the corresponding single-letter color names may be used in place of numeric SGR codes and semicolons are not required to separate color names, for example <tt>--colors=mt=hr</tt> specifies bright red.  Color letters and numeric codes may be mixed.  The following SGR codes have corresponding letter designations:</p>

<table align=center>
<tr><td>0   </td><td><tt>n</tt></td><td>normal font and color     </td><td>2   </td><td><tt>f </tt></td><td>faint (not widely supported)</td></tr>
<tr><td>1   </td><td><tt>h</tt></td><td>highlighted bold font     </td><td>21  </td><td><tt>H </tt></td><td>highlighted bold off</td></tr>
<tr><td>4   </td><td><tt>u</tt></td><td>underline                 </td><td>24  </td><td><tt>U </tt></td><td>underline off</td></tr>
<tr><td>7   </td><td><tt>i</tt></td><td>invert video              </td><td>27  </td><td><tt>I </tt></td><td>invert off</td></tr>
<tr><td>30  </td><td><tt>k</tt></td><td>black text                </td><td>90  </td><td><tt>+k</tt></td><td>bright gray text</td></tr>
<tr><td>31  </td><td><tt>r</tt></td><td>red text                  </td><td>91  </td><td><tt>+r</tt></td><td>bright red text</td></tr>
<tr><td>32  </td><td><tt>g</tt></td><td>green text                </td><td>92  </td><td><tt>+g</tt></td><td>bright green text</td></tr>
<tr><td>33  </td><td><tt>y</tt></td><td>yellow text               </td><td>93  </td><td><tt>+y</tt></td><td>bright yellow text</td></tr>
<tr><td>34  </td><td><tt>b</tt></td><td>blue text                 </td><td>94  </td><td><tt>+b</tt></td><td>bright blue text</td></tr>
<tr><td>35  </td><td><tt>m</tt></td><td>magenta text              </td><td>95  </td><td><tt>+m</tt></td><td>bright magenta text</td></tr>
<tr><td>36  </td><td><tt>c</tt></td><td>cyan text                 </td><td>96  </td><td><tt>+c</tt></td><td>bright cyan text</td></tr>
<tr><td>37  </td><td><tt>w</tt></td><td>white text                </td><td>97  </td><td><tt>+w</tt></td><td>bright white text</td></tr>
<tr><td>40  </td><td><tt>K</tt></td><td>black background          </td><td>100 </td><td><tt>+K</tt></td><td>bright gray background</td></tr>
<tr><td>41  </td><td><tt>R</tt></td><td>dark red background       </td><td>101 </td><td><tt>+R</tt></td><td>bright red background</td></tr>
<tr><td>42  </td><td><tt>G</tt></td><td>dark green background     </td><td>102 </td><td><tt>+G</tt></td><td>bright green background</td></tr>
<tr><td>43  </td><td><tt>Y</tt></td><td>dark yellow backgrounda   </td><td>103 </td><td><tt>+Y</tt></td><td>bright yellow background</td></tr>
<tr><td>44  </td><td><tt>B</tt></td><td>dark blue background      </td><td>104 </td><td><tt>+B</tt></td><td>bright blue background</td></tr>
<tr><td>45  </td><td><tt>M</tt></td><td>dark magenta background   </td><td>105 </td><td><tt>+M</tt></td><td>bright magenta background</td></tr>
<tr><td>46  </td><td><tt>C</tt></td><td>dark cyan background      </td><td>106 </td><td><tt>+C</tt></td><td>bright cyan background</td></tr>
<tr><td>47  </td><td><tt>W</tt></td><td>dark white background     </td><td>107 </td><td><tt>+W</tt></td><td>bright white background</td></tr>
</table>

<p>The default color scheme is <tt>cx=33:</tt> <tt>mt=1;31:</tt> <tt>fn=1;35:</tt> <tt>ln=1;32:</tt> <tt>cn=1;32:</tt> <tt>bn=1;32:</tt> <tt>se=36:</tt> <tt>qp=1;32:</tt> <tt>qe=1;37;41:</tt> <tt>qm=1;32:</tt> <tt>ql=36:</tt> <tt>qb=1;35</tt>

<a name="format">&nbsp;</a>
<h2>Custom output formatting</h2>

<p>Formatted output and match replacement puts you in full control of the output.  In fact, CSV (<tt>--csv</tt>), JSON (<tt>--json</tt>) and XML (<tt>--xml</tt>) are all produced this way.  To produce custom output, specify option <tt>--format=<i>"FORMAT"</i></tt> with text and the following format fields:

<center>

<div class="wide">
<table align=center>
<tr><td><tt>%%</tt>                   </td><td><tt>%</tt></td></tr>
<tr><td><tt>%~</tt>                   </td><td>newline (LF or CRLF)</td></tr>
<tr><td><tt>%a</tt>                   </td><td>basename of matching file</td></tr>
<tr><td><tt>%A</tt>                   </td><td>byte range in hex of a match</td></tr>
<tr><td><tt>%b</tt>                   </td><td>byte offset of a match</td></tr>
<tr><td><tt>%B</tt> <tt>%[...]B</tt>  </td><td>text <tt>...</tt> + byte offset, if <tt>-b</tt></td></tr>
<tr><td><tt>%c</tt>                   </td><td>matching pattern as C/C++</td></tr>
<tr><td><tt>%C</tt>                   </td><td>matching line as C/C++</td></tr>
<tr><td><tt>%d</tt>                   </td><td>byte size of a match</td></tr>
<tr><td><tt>%e</tt>                   </td><td>end offset of a match</td></tr>
<tr><td><tt>%f</tt>                   </td><td>pathname of matching file</td></tr>
<tr><td><tt>%F</tt> <tt>%[...]F</tt>  </td><td>text <tt>...</tt> + pathname, if <tt>-H</tt></td></tr>
<tr><td><tt>%+</tt>                   </td><td><tt>%F</tt> as heading/break, if <tt>-+</tt></td></tr>
<tr><td><tt>%h</tt>                   </td><td>quoted "pathname"</td></tr>
<tr><td><tt>%H</tt> <tt>%[...]H</tt>  </td><td>text <tt>...</tt> + "pathname", if <tt>-H</tt></td></tr>
<tr><td><tt>%i</tt>                   </td><td>pathname as XML</td></tr>
<tr><td><tt>%I</tt> <tt>%[...]I</tt>  </td><td>text <tt>...</tt> + pathname XML, if <tt>-H</tt></td></tr>
<tr><td><tt>%j</tt>                   </td><td>matching pattern as JSON</td></tr>
<tr><td><tt>%J</tt>                   </td><td>matching line as JSON</td></tr>
<tr><td><tt>%k</tt>                   </td><td>column number of a match</td></tr>
<tr><td><tt>%K</tt> <tt>%[...]K</tt>  </td><td>text <tt>...</tt> + column number, if <tt>-k</tt></td></tr>
<tr><td><tt>%l</tt>                   </td><td>last line number of a match</td></tr>
<tr><td><tt>%L</tt>                   </td><td>number of lines of a match</td></tr>
<tr><td><tt>%m</tt>                   </td><td>number of matches</td></tr>
<tr><td><tt>%M</tt>                   </td><td>number of matching lines</td></tr>
<tr><td><tt>%n</tt>                   </td><td>line number of a match</td></tr>
<tr><td><tt>%N</tt> <tt>%[...]N</tt>  </td><td>text <tt>...</tt> + line number, if <tt>-n</tt></td></tr>
<tr><td><tt>%o</tt>                   </td><td>matching pattern, also <tt>%0</tt></td></tr>
<tr><td><tt>%O</tt>                   </td><td>matching line</td></tr>
<tr><td><tt>%p</tt>                   </td><td>path to matching file</td></tr>
<tr><td><tt>%q</tt>                   </td><td>quoted matching pattern</td></tr>
<tr><td><tt>%Q</tt>                   </td><td>quoted matching line</td></tr>
<tr><td><tt>%R</tt>                   </td><td>newline, if <tt>--break</tt></td></tr>
<tr><td><tt>%s</tt>                   </td><td>separator (<tt>:</tt> by default)</td></tr>
<tr><td><tt>%S</tt> <tt>%[...]S</tt>  </td><td>text <tt>...</tt> + separator, if <tt>%m</tt> &gt; 1</td></tr>
<tr><td><tt>%t</tt>                   </td><td>tab</td></tr>
<tr><td><tt>%T</tt> <tt>%[...]T</tt>  </td><td>text <tt>...</tt> + tab, if <tt>-T</tt></td></tr>
<tr><td><tt>%u</tt>                   </td><td>unique lines, unless <tt>-u</tt></td></tr>
<tr><td><tt>%[hhhh]U</tt>             </td><td>U+hhhh Unicode code point</td></tr>
<tr><td><tt>%v</tt>                   </td><td>matching pattern as CSV</td></tr>
<tr><td><tt>%V</tt>                   </td><td>matching line as CSV</td></tr>
<tr><td><tt>%w</tt>                   </td><td>match width in wide chars</td></tr>
<tr><td><tt>%x</tt>                   </td><td>matching pattern as XML</td></tr>
<tr><td><tt>%X</tt>                   </td><td>matching line as XML</td></tr>
<tr><td><tt>%y</tt>                   </td><td>matching pattern as hex</td></tr>
<tr><td><tt>%Y</tt>                   </td><td>matching line as hex</td></tr>
<tr><td><tt>%z</tt>                   </td><td>path in archive</td></tr>
<tr><td><tt>%Z</tt>                   </td><td>edit distance cost, if <tt>-Z</tt></td></tr>
</table>
</div>

<div>
<table align=center>
<tr><td><tt>%[...]&lt;</tt>     </td><td>text <tt>...</tt> if <tt>%m</tt> = 1</td></tr>
<tr><td><tt>%[...]&gt;</tt>     </td><td>text <tt>...</tt> if <tt>%m</tt> &gt; 1</td></tr>
<tr><td><tt>%,</tt>          </td><td><tt>,</tt> if <tt>%m</tt> &gt; 1, same as <tt>%[,]&gt;</tt></td></tr>
<tr><td><tt>%:</tt>          </td><td><tt>:</tt> if <tt>%m</tt> &gt; 1, same as <tt>%[:]&gt;</tt></td></tr>
<tr><td><tt>%;</tt>          </td><td><tt>;</tt> if <tt>%m</tt> &gt; 1, same as <tt>%[;]&gt;</tt></td></tr>
<tr><td><tt>%|</tt>          </td><td><tt>|</tt> if <tt>%m</tt> &gt; 1, same as <tt>%[|]&gt;</tt></td></tr>
<tr><td><tt>%[...]$</tt>     </td><td>assign text <tt>...</tt> to separator</td></tr>
<tr><td><tt>%$</tt>          </td><td>reset to default separator</td></tr>
<tr><td><tt>%[ms]=...%=</tt> </td><td>color of <tt>ms</tt> <tt>...</tt> color off</td></tr>
</table>

&nbsp;<br>
&nbsp;<br>

<table align=center>
<tr><th colspan=2>fields that require option <tt>-P</tt> for captures</th></tr>
<tr><td><tt>%1</tt> <tt>%2</tt> <tt>%3</tt> ... <tt>%9</tt>  </td><td>group capture
<tr><td><tt>%[n]#</tt>       </td><td>nth group capture</td></tr>
<tr><td><tt>%[n]b</tt>       </td><td>nth capture byte offset</td></tr>
<tr><td><tt>%[n]d</tt>       </td><td>nth capture byte size</td></tr>
<tr><td><tt>%[n]e</tt>       </td><td>nth capture end offset</td></tr>
<tr><td><tt>%[n]j</tt>       </td><td>nth capture as JSON</td></tr>
<tr><td><tt>%[n]q</tt>       </td><td>nth capture quoted</td></tr>
<tr><td><tt>%[n]v</tt>       </td><td>nth capture as CSV</td></tr>
<tr><td><tt>%[n]x</tt>       </td><td>nth capture as XML</td></tr>
<tr><td><tt>%[n]y</tt>       </td><td>nth capture as hex</td></tr>
<tr><td><tt>%[name]#</tt>    </td><td>named group capture</td></tr>
<tr><td><tt>%[name]b</tt>    </td><td>named capture byte offset</td></tr>
<tr><td><tt>%[name]d</tt>    </td><td>named capture byte size</td></tr>
<tr><td><tt>%[name]e</tt>    </td><td>named capture end offset</td></tr>
<tr><td><tt>%[name]j</tt>    </td><td>named capture as JSON</td></tr>
<tr><td><tt>%[name]q</tt>    </td><td>named capture quoted</td></tr>
<tr><td><tt>%[name]v</tt>    </td><td>named capture as CSV</td></tr>
<tr><td><tt>%[name]x</tt>    </td><td>named capture as XML</td></tr>
<tr><td><tt>%[name]y</tt>    </td><td>named capture as hex</td></tr>
<tr><td><tt>%[n|...]#</tt>   </td><td>capture n,... that matched</td></tr>
<tr><td><tt>%[n|...]b</tt>   </td><td>capture n,... byte offset</td></tr>
<tr><td><tt>%[n|...]d</tt>   </td><td>capture n,... byte size</td></tr>
<tr><td><tt>%[n|...]e</tt>   </td><td>capture n,... end offset</td></tr>
<tr><td><tt>%[n|...]j</tt>   </td><td>capture n,... as JSON</td></tr>
<tr><td><tt>%[n|...]q</tt>   </td><td>capture n,... quoted</td></tr>
<tr><td><tt>%[n|...]v</tt>   </td><td>capture n,... as CSV</td></tr>
<tr><td><tt>%[n|...]x</tt>   </td><td>capture n,... as XML</td></tr>
<tr><td><tt>%[n|...]y</tt>   </td><td>capture n,... as hex</td></tr>
<tr><td><tt>%g</tt>          </td><td>capture number or name</td></tr>
<tr><td><tt>%G</tt>          </td><td>all capture numbers/names</td></tr>
<tr><td><tt>%[t|...]g</tt>   </td><td>text <tt>t</tt>,... indexed by capture</td></tr>
<tr><td><tt>%[t|...]G</tt>   </td><td>all <tt>t</tt>,... indexed by captures</td></tr>
</table>
</div>

</center>

<ol>
<li>options <tt>-X</tt> and <tt>-W</tt> change the <tt>%o</tt> and <tt>%O</tt> fields to output hex and hex/text, respectively.
<li>option <tt>-o</tt> changes the <tt>%O</tt> and <tt>%Q</tt> fields to output the match only
<li>options <tt>-c</tt>, <tt>-l</tt> and <tt>-o</tt> change the output of <tt>%C</tt>, <tt>%J</tt>, <tt>%V</tt>, <tt>%X</tt> and <tt>%Y</tt> accordingly
<li>conditional fields such as <tt>%B</tt>, <tt>%F</tt>, <tt>%K</tt> and <tt>%N</tt> output the separator <tt>:</tt> after the value, or the separator text assigned with <tt>%[...]$</tt>
<li>numeric fields such as <tt>%n</tt> are left-padded with spaces when <tt>%{width}n</tt> is specified for <tt>width</tt> &gt; 0
<li>matching line fields such as <tt>%O</tt> are cut to width when <tt>%{width}O</tt> is specified or when <tt>%{-width}O</tt> is specified to cut from the end of the line
<li>character context on a matching line before or after a match is output when <tt>%{-width}o</tt> or <tt>%{+width}o</tt> is specified for match fields such as <tt>%o</tt>, where <tt>%{width}o</tt> without a <tt>+/-</tt> sign cuts the match to the specified width
</ol>

<p>Table of all options that accept format fields:</p>

<center>
<table align=center>
<tr><td><tt>--format-begin=<i>"FORMAT"</i></tt></td><td>format for beginning the search</td></tr>
<tr><td><tt>--format-open=<i>"FORMAT"</i> </tt></td><td>format for opening a file when a match was found</td></tr>
<tr><td><tt>--format=<i>"FORMAT"</i>      </tt></td><td>format for each match in a file</td></tr>
<tr><td><tt>--format-close=<i>"FORMAT"</i></tt></td><td>format for closing a file when a match was found</td></tr>
<tr><td><tt>--format-end=<i>"FORMAT"</i>  </tt></td><td>format for ending the search</td></tr>
<tr><td><tt>--replace=<i>"FORMAT"</i>     </tt></td><td>replace matches in the output with the specified format</td></tr>
</table>
</center>

<ol>
<li>output for <tt>--csv</tt> is internally produced with
<pre style="font-size:0.7rem">
--format-open='%+'
--format='%[,]$%H%N%K%B%V%~%u'
</pre>
<li>output for <tt>--json</tt> is internally produced with
<pre style="font-size:0.7rem">
--format-begin='['
--format-open='%,%~  {%~    %[,%~    ]$%["file": ]H"matches": ['
--format='%,%~      { %[, ]$%["line": ]N%["column": ]K%["offset": ]B"match": %J }%u'
--format-close='%~    ]%~  }'
--format-end='%~]%~'
</pre>
<li>output for <tt>--xml</tt> is internally produced with
<pre style="font-size:0.7rem">
--format-begin='&lt;grep&gt;%~'
--format-open='  &lt;file%["]$%[ name="]I&gt;%~'
--format='    &lt;match%["]$%[ line="]N%[ column="]K%[ offset="]B&gt;%X&lt;/match&gt;%~%u'
--format-close='  &lt;/file&gt;%~'
--format-end='&lt;/grep&gt;%~'
</pre>
<li>to output replaced matches in a file while keeping the rest of the file unchanged, use option <tt>--replace=<i>"FORMAT"</i></tt> and <tt>-y</tt> (or <tt>--any-line</tt> or <tt>--passthru</tt>)
<li>to replace matches with corresponding text substitutions, you can use <tt>-P "(PATTERN1)|(PATTERN2)|...|(PATTERNn)"</tt> <tt>--replace="%[TEXT1|TEXT2|...|TEXTn]g"</tt> for example <tt>-P -iw "(one)|(two)|(three)" --replace="%[num|duo|tria]g"</tt>
</ol>

<a name="index">&nbsp;</a>
<h2>Indexing</h2>

<p>The <tt>ugrep-indexer</tt> command indexes a directory tree to accelerate searching slow file systems and file systems that are "cold" i.e. not recently cached in memory.  Indexing accelerates recursive searching by performing a quick check on precomputed indexes to only search those files that may match.

<p>Indexed-based search with ugrep is safe and never skips new or updated files that may now match.  If any files and directories are added or changed after indexing, then ugrep will search these additions and changes made to the file system by comparing file and directory time stamps to the indexing time stamp.  When many files were added or changed, then you may want to re-index to bring the indexes up to date.  Re-indexing is incremental, it will not take as much time as the initial indexing process.

<p>Please note that indexing is effective for large file systems on slower storage media or when searching many zip and tarball archives.  Indexing won't speed up regular file searching on fast nVME SSDs, for example.

<dl>
<dt>ugrep-indexer -Iz -v</dt>  <dd>recursively (re-)index the working directory tree, ignore binary files (option <tt>-I</tt>), index archives and compressed files (option <tt>-z</tt>), showing verbose output (option <tt>-v</tt>)</dd>
<dt>ugrep-indexer -Iz -v <i>PATH</i></dt>
                               <dd>same as above, but (re-)index the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ugrep-indexer -f -0 -Iz -v <i>PATH</i></dt>
                               <dd>force full re-indexing with lowest index match accuracy to minimize index files (option <tt>-0</tt> for zero, default is <tt>-5</tt> for five)</dd>
<dt>ugrep-indexer -c <i>PATH</i></dt>
                               <dd>check the directory tree <tt><i>PATH</i></tt> indexes, the default is to check the working directory tree</dd>
<dt>ugrep-indexer -d <i>PATH</i></dt>
                               <dd>delete the hidden index files from the directory tree <tt><i>PATH</i></tt>, the default is to delete index files from the working directory tree</dd>
<dt>ug --index -Iz <i>OPTIONS</i> <i>PATTERN</i></dt>
                               <dd>perform an index-based recursive search, ignore binary files (option <tt>-I</tt>), also search archives and compressed files (option <tt>-z</tt>)</dd>
<dt>ug --index -r -Iz <i>OPTIONS</i> <i>PATTERN</i> <i>PATH</i></dt>
                               <dd>same as above, but perform an index-based recursive search on the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ug --index <i>OPTIONS</i> <i>PATTERN</i> <i>FILE</i></dt>
                               <dd>search <tt><i>FILE</i></tt>, but <u>not using an index</u> (only <u>recursive searching</u> is accelerated)
</dl>

<ol>
<p>Usage tips:</p>
<li><tt>ugrep-indexer</tt> reads a .ugrep-indexer configuration file when present in the working directory or in your home directory, which should list the names of long options (without the <tt>--</tt>) to set your preferences
<li><tt>ugrep-indexer</tt> option <tt>-v</tt> reports progress; to create a log, redirect <tt>ugrep-indexer -v</tt> output to a log file
<li><tt>ugrep-indexer</tt> option <tt>-S</tt> follows symlinks to files; indexing never follows symlinks to directories
<li><tt>ugrep-indexer</tt> option <tt>-X</tt> or <tt>--ignore-files</tt> obeys .gitignore rules
<li><tt>ugrep-indexer</tt> options <tt>-z --zmax=2</tt> indexes nested archives and tarballs (two levels)
<li><tt>ug</tt> option <tt>--index</tt> works with all other search options, except for options <tt>-P</tt>, <tt>-Z</tt>, <tt>-v</tt> and <tt>--filter</tt>
<li><tt>ug</tt> option <tt>--stats</tt> reports index-based search details, including false positives; false positives are reduced with higher indexing accuracy and/or by using more specific search patterns
</ol>

<a name="bugs">&nbsp;</a>
<h2>Bugs</h2>

<p>If you found a bug or an issue, then please report it at <a href="https://github.com/Genivia/ugrep/issues">https://github.com/Genivia/ugrep/issues</a>

<a name="license">&nbsp;</a>
<h2>License</h2>

<p>Ugrep is open source BSD-3 licensed:

<div class="wide">
<table>
<tr><th>Permissions</th></tr>
<tr><td>  commercial use</td></tr>
<tr><td>  modification</td></tr>
<tr><td>  distribution</td></tr>
<tr><td>  private use</td></tr>
</table>
</div>

<div class="wide">
<table>
<tr><th>Limitations</th></tr>
<tr><td> liability</td></tr>
<tr><td> warranty</td></tr>
</table>
</div>

<div class="wide">
<table>
<tr><th>Conditions</th></tr>
<tr><td>  include license</td></tr>
<tr><td>  copyright notice</td></tr>
</table>
</div>

<p>Ugrep is written by Robert A. van Engelen, Copyright (c) 2024 Robert A. van Engelen, <a href="https://www.genivia.com/get-ugrep.html">Genivia Inc.</a>

<p>The ugrep author received the  <a href="https://opensource.googleblog.com/2022/03/Announcing-First-Group-of-Google-Open-Source-Peer-Bonus-Winners-in-2022.html">Google Peer Bonus Award 2022</a> for developing ugrep

<p>Ugrep project repo: <a href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a>  thank you for starring the project!

<p>Ugrep uses the RE/flex regex library: <a href="https://github.com/Genivia/RE-flex">https://github.com/Genivia/RE-flex</a>

<p>Ugrep option <tt>-P</tt> uses the PCRE2 library: <a href="https://www.pcre.org">https://www.pcre.org</a>

<hr>

<p><small>See also: <a target="_blank" href="https://www.gnu.org/software/grep/">gnu grep</a>, <a taget="_blank" href="https://man.freebsd.org/cgi/man.cgi?grep(1)">bsd grep</a>, <a target="_blank" href="https://git-scm.com/docs/git-grep">git grep</a>, <a target="_blank" href="https://man7.org/linux/man-pages/man1/pcregrep.1.html">pcre grep</a>, <a href="https://www.usenix.org/legacy/publications/library/proceedings/wu.pdf">agrep</a>, <a target="_blank" href="https://beyondgrep.com">ack</a>, <a target="_blank" href="https://geoff.greer.fm/ag/">ag</a>, <a target="_blank" href="https://docs.rs/crate/ripgrep/0.2.7">rg</a>, <a target="_blank" href="https://sift-tool.org">sift</a></small>

<p><small>Last updated: Sun Nov 10, 2024</small>

<hr>

</body>

</html>
